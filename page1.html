<!doctype html>
<html class="no-js" lang="en-gb">
    <head>
        <meta charset="utf-8">
        <link rel="dns-prefetch" href="//fonts.googleapis.com" />
        <link rel="dns-prefetch" href="//www.google-analytics.com" />
        <script>
            // Cut the mustard
            var enhanced=false, ddecn='';
            if (document.querySelector && window.addEventListener){ddecn+=' js-enhanced'; enhanced=true;}
            // Detect support for SVG
            if(document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1")){ddecn+=' svg';}
            document.documentElement.className += ddecn;
        </script>
        <!--[if lt IE 9]>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
        <![endif]-->
        <meta name="description" content="EUROCONTROL e-learning template">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="application-name" content="EUROCONTROL e-learning" />
        <meta name="apple-mobile-web-app-title" content="EUROCONTROL e-learning" />
        <title>EUROCONTROL: new e-learning > page 1</title>
        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

        

        <link rel="stylesheet" href="styles/main.css">
        
        <link href='http://fonts.googleapis.com/css?family=Merriweather:400,700|Roboto:300' rel='stylesheet' type='text/css'>

        
    </head>
    <body>
        
        <div class="ec-container">
        
            <div class="ec-header" id="top">
                
                <h1>
                    <a href="#settings" class="ec-button-settings ec-logo ec-menu-toggle-settings"><span class="ec-hidden-text">EUROCONTROL e-learning</span></a>
                </h1>
                
                <a href="#navigation" class="ec-button-menu ec-icon-navigation ec-menu-toggle-nav"><span class="ec-hidden-text">navigation</span></a>
                
            </div>
            
            <div class="ec-content" role="main">
            
                <h2 class="ec-title-page">Steady and Level Flight</h2>
                
                <div class='ec-youtube-limiter'>
                    <div class='ec-youtube-container'>
                        <iframe class="ec-youtube" src="https://www.youtube.com/embed/EFF27P2bDX4?controls=0&showinfo=0&rel=0" frameborder="0" allowfullscreen></iframe>
                        <!-- <div class="ec-youtube"></div> -->
                    </div>
                </div>
                
                <div class="ec-content-padded">
                
                    <p>In a steady and level flight:</p>
                    <ul>
                        <li>The WEIGHT is balanced by the LIFT,</li>
                        <li>The DRAG is balanced by the THRUST</li>
                    </ul>
                    <p>As the forces are in balance, the resultant force acting on the aircraft is Zero, and it will neither accelerate nor decelerate. In this situation the aeroplane is said to be in a state of &quot;<strong>Equilibrium</strong>&quot;.</p>
                    <p>The aircraft will continue flying at the same velocity, i.e. at the same speed and in the same direction, unless, for example, the pilot or a gust of wind alters this situation.</p>
                </div>
                
                <object class="ec-activity-svg" id="activity1" data="images/ec-ACAS-t3p3a1_v3.svg" type="image/svg+xml" width="100%" height="auto" ></object>
                
                <div class="ec-content-padded">
                    <p>The magnitude (size) of the lift (and therefore the weight) during cruise flight will be approximately 10 times greater than the drag (and thrust). This relationship of lift to drag is very important and is referred to as the <strong>Lift/Drag ratio</strong> (L/D ratio). The L/D ratio is in this case 10 to 1, i.e. the lift is 10 times greater than the drag. </p>
                </div>
                
            </div>
            
            <div class="ec-footer ec-content-padded">
                
                <p>Comments section could go here...</p>
                
                <p>&copy; EUROCONTROL 2015</p>
            </div>
            
            
            
        </div>
        
        <nav class="ec-nav-navigation" role="navigation" id="navigation">
            
            <!-- <div class="ec-nav-module"> -->
                
                <a href="#top" class="ec-nav-dismiss ec-menu-toggle-nav">Dismiss</a>
                
                <a href="#" class="ec-nav-next-title">Next:<br/>Page 2 title.</a>
                <a href="#" class="ec-nav-previous-title">Previous:<br/>Previous page title.</a>
                
                <ul class="ec-nav__links ec-nav-navigation__links">
                    <li class="ec-nav-navigation__item"><a href="page2.html" class="primary-nav__link ec-nav-navigation__link ec-nav-navigation__next"><span class="ec-hidden-text">Next</span></a></li>
                    <li class="ec-nav-navigation__item"><a href="index.html" class="primary-nav__link ec-nav-navigation__link ec-nav-navigation__previous"><span class="ec-hidden-text">Previous</span></a></li>
                    <li class="ec-nav-navigation__item"><a href="#" class="primary-nav__link ec-nav-navigation__link ec-nav-navigation__complete"><span class="ec-hidden-text">Complete</span></a></li>
                </ul>
                
                <ul class="ec-nav__links ec-nav-progress__links">
                    <li class="ec-nav-navigation__item"><a href="index.html" class="primary-nav__link ec-nav-navigation__link ec-nav-navigation__progress ec-nav-navigation__progress-complete">Module overview</a></li>
                    <li class="ec-nav-navigation__item"><a href="page1.html" class="primary-nav__link ec-nav-navigation__link ec-nav-navigation__progress ec-nav-navigation__progress-complete">Page 1</a></li>
                    <li class="ec-nav-navigation__item"><a href="page2.html" class="primary-nav__link ec-nav-navigation__link ec-nav-navigation__progress ec-nav-navigation__progress-started">Page 2</a></li>
                    <li class="ec-nav-navigation__item"><a href="page3.html" class="primary-nav__link ec-nav-navigation__link ec-nav-navigation__progress">Page 3</a></li>
                </ul>
                
            <!-- </div> -->
            
        </nav>
        
        <nav class="ec-nav-settings" role="navigation" id="settings">
        
            <!-- <div class="ec-nav-site"> -->
                
                <a href="#top" class="ec-nav-dismiss ec-menu-toggle-settings">Dismiss</a>
                
                <ul class="ec-nav__links">
                    <li class="ec-nav-settings__item"><a href="index.html" class="primary-nav__link ec-nav-settings__link ec-nav-settings__home">Home</a></li>
                    <li class="ec-nav-settings__item"><a href="help.html" class="primary-nav__link ec-nav-settings__link ec-nav-settings__help">Help</a></li>
                    <li class="ec-nav-settings__item"><a href="#" class="primary-nav__link ec-nav-settings__link ec-nav-settings__profile">Profile</a></li>
                </ul>
                
            <!-- </div> -->
        </nav>

        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <script>
            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src='//www.google-analytics.com/analytics.js';
            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
            ga('create','UA-XXXXX-X');ga('send','pageview');
        </script>

        <script src="scripts/vendor.js"></script>
        
        <script src="scripts/main.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.15.1/TweenMax.min.js"></script>
        <script type="text/javascript">
            (function ( ec_ACAS_t3p3a1, undefined ) {
                
                var all,
                    dt = 0.5, // defaultTime for animations
                    audioPath = 'audio',
                    audioArray = ['Adjust_Vertical_Speed', 'Clear_Of_Conflict', 'Descend'],
                    hideOnStartArray,
                    setButtonCursorArray,
                    currentTimeline = 1, //  start on 1 as timeline0 called on init.
                    timeline0 = new TimelineMax(),
                    timeline1 = new TimelineMax(),
                    timeline2 = new TimelineMax(),
                    timeline3 = new TimelineMax(),
                    timelineArray = [timeline0, timeline1, timeline2];
                    
                ec_ACAS_t3p3a1.init = function () {
                    
                    all = getSVGElementsWithID(document.getElementById("activity1").getSVGDocument());
                    
                    hideOnStartArray = [
                        all.text3, all.text4, all.text5, all.text6,
                        all.buttonReplay, all.buttonNext, all.buttonStart,
                        all.arrow3, all.arrow4
                    ];
                    
                    setButtonCursorArray = [
                        all.buttonReplay, all.buttonNext, all.buttonStart
                    ];
                    
                    $(all.buttonNext).click(function (e) {
                        handleNextClick();
                    });
                    
                    $(all.buttonStart).click(function (e) {
                        handleNextClick();
                    });
                    
                    $(all.buttonReplay).click(function (e) {
                        replay();
                    });
                    
                    createAudio();
                    setStartPoint();
                    defineTimelines();
                    startAnimation1();
                    
                };
                
                var replay = function () {
                    setStartPoint();
                    resetTimelines();
                };
                
                var resetTimelines = function () {
                    // timeline0.duration(0.1).reverse();
                    // timeline1.duration(0.1).reverse();
                    /*timeline2.restart().stop();
                    timeline1.restart().stop();
                    timeline0.restart().stop();*/
                    for (var i = timelineArray.length-1; i > 0; i--) {
                        timelineArray[i].restart().stop();
                    };
                    currentTimeline = 1;
                    // timeline0.play();
                    setTimeout(function () { 
                        console.log(timeline0.duration());
                        timeline0.play(0);
                    }, 500);
                };
                
                var handleNextClick = function () {
                    $(all.buttonNext).css('visibility', 'hidden');
                    $(all.buttonStart).css('visibility', 'hidden');
                    timelineArray[currentTimeline].play();
                    currentTimeline++;
                };
                
                var startAnimation1 = function () {
                    timeline0.play();
                    
                    /*for (var i = 1; i < timelineArray.length; i++) {
                        setTimeout(function () { handleNextClick();}, i*500);
                    };*/
                    
                    // setTimeout(function () {
                    //     timeline1.restart()
                    //     // .stop();
                    // }, 4000);
                };
                
                var setStartPoint = function () {
                    TweenMax.set(setButtonCursorArray, {cursor:'pointer'});
                    TweenMax.set(hideOnStartArray, {autoAlpha:0});
                    TweenMax.set(hideOnStartArray, {autoAlpha:0});
                    TweenMax.set([all.acft1, all.acft2], {transformOrigin:"55% 70%"});
                }
                
                var defineTimelines = function () {
                    
                    timeline0
                    .to(all.text5, dt, {autoAlpha:1})
                    .to(all.buttonStart, dt, {delay:1, autoAlpha:1})
                    // .duration(0.1)
                    .stop();
                    // setTimeout(function () { handleNextClick();}, 500);
                    
                    
                    
                    // currentTimeline = 1;
                    timeline1
                    .to(all.text3, dt, {delay:1, autoAlpha:1})
                    .call( callAudio, ['audio2'])
                    .to(all.acft1, dt, {delay:dt, x: '+=40', ease:Linear.easeNone})
                    .to(all.acft1, dt*3, {x: '+=100',  y: '+=43', rotation: "+=23", ease:Linear.easeNone})
                    .to(all.acft2, dt*4, {delay:-dt*4, x: '-=60',  y: '+=21', ease:Linear.easeNone})
                    .to(all.text6, dt, {delay:1, autoAlpha:1})
                    .to(all.buttonNext, dt, {delay:1, autoAlpha:1})
                    // .duration(0.1)
                    .stop();
                    // setTimeout(function () { handleNextClick();}, 1000);
                    
                    // currentTimeline = 2;
                    timeline2
                    .to(all.text4, dt, {delay:1, autoAlpha:1})
                    .call( callAudio, ['audio0'])
                    .to(all.acft1, dt*3, {delay:dt*2, x: '+=100',  y: '+=15', rotation: "-=23", ease:Linear.easeNone})
                    .to(all.acft2, dt*1, {delay:-dt*3,  y: '+=20', rotation: "+=19", ease:Linear.easeNone})
                    .to(all.acft2, dt*4, {delay:-dt*3, x: '-=150', ease:Linear.easeNone})
                    .to(all.arrow3, dt, {autoAlpha: 1})
                    .to(all.arrow4, dt, {autoAlpha: 1})
                    .call( callAudio, ['audio1'])
                    .to(all.buttonReplay, dt, {delay:1, autoAlpha:1})
                    // .duration(0.1)
                    .stop();
                    
                    
                    // .to( all.acft1, 5, {
                    //     bezier:{
                    //         values:[ {x:30, y:0}, {x:40, y:0}, {x:200, y:100} ], autoRotate:true
                    //     },
                    //     delay:.5
                    // } ); 
                    // .to(all.acft1, dt*2, {delay:dt, x: '+=60',  y: '+=30', rotation: 20});
                    
                    // console.log(all.acft1._gsTransform.x);
                };
                
                /* UTILITY FUNCTIONS */
                
                var callAudio = function (audioName) {
                    all[audioName].play();
                };
                /**
                 * AUDIO tags can be included in SVG but
                 * I decided to keep all audio work in JavaScript as the graphics should be maniputlated
                 * by designers and not need to reinsert the audio code each time.
                 * I could add AUDIO tags to the page declaritively but
                 * I think it is neater to have it all here.
                 */
                var createAudio = function () {
                    var audio;
                    for (var i = 0; i < audioArray.length; i++) {
                        audio = document.createElement("audio");
                        // $(audio).attr('controls','');
                        audio.src = audioPath + '/' + audioArray[i] + '.mp3';
                        document.body.appendChild(audio);
                        all['audio'+i] = audio;
                    };
                };
                
                
                var getSVGElementsWithID = function (doc) {
                    
                    var elements = doc.getElementsByTagName('*'),
                        elementContainer = {},
                        attributeToFind = 'id',
                        i = 0,
                        currentElement;
                        
                    while(currentElement = elements[i++]){
                        if (currentElement[attributeToFind]) {
                            elementContainer[currentElement[attributeToFind]] = currentElement;
                        }
                    }
                    
                    return elementContainer;
                }
                /* UTILITY FUNCTIONS END */
                
                
            })(window.ec_ACAS_t3p3a1 = window.ec_ACAS_t3p3a1 || {});
            
            
            // There seems to be a race condition between this doc
            // and the Object document svg content.
            // 
            var activity1 = document.getElementById("activity1");
            if(activity1.getSVGDocument()) {
                ec_ACAS_t3p3a1.init();
            }
            else {
                activity1.addEventListener("load", function ec_ACAS_t3p3a1_load(event){
                    activity1.removeEventListener("load", ec_ACAS_t3p3a1_load, false); //remove listener, no longer needed
                    ec_ACAS_t3p3a1.init();
                },false);
            }
        </script>
</body>
</html>
